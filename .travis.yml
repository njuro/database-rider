dist: trusty
sudo: required
language: java
jdk: oraclejdk8
cache:
  directories:
  - "$HOME/.m2/repository"
services:
- docker
env:
  global:
  - secure: NeGB3Dm+jI71QZnHrDB+5mbrKdnYAEzA724AzxKEx+ZQnjik8C9HGNc6M3LzED2gxPba5f06DjJAK55TP1dw/TVsvDC/8PvDtlpReucvCdvA0RSwFtCJlf95Itsz1CAdVZTzIsnKjdMT5CR5TNFyrPZ5NY0WNJiBPUcHfjrOD4vzYgvVYKAyXADxaPIrwUfOokcpbNupSBpFRM+N6/X3CcG8fwMyepGhBugsSaOvg/7pe1nduao4KthnTsP4urmTYZF9LUmrZyw/X5HlkEZWOUqi9q5e/HTTwHzwmYN+6g7ZPCh8KOUQDyNo+RbBip1LwiycutnxMtXPN7nNg7S4RUBTiG1Wf/F6fL6muyqIyBOxtgjNWn+OncTwRVY80MI5P3L1bJBXtJ9nCZ8sQRdieDuLO4Ss6E1a6hsovKcEtxWWCuRfRNrjhIOU5wCHXyKP6X0MloL9+avsSYSsluXXmUM2S6/MjsoojZ5UFSQs9LAXwV8GTQejMb9yNBs4KKDjVrtIeN7w6w6JLUASIZZkXktGmT/KJwapv4z53iSAXlSJ0/44c76PV7T3gBW/DG/KWj1NlWrhd8J01fwHZvQuxq3xeOPQq2TAJUq4apJ4KuYaINGOpndTnpwPNRoP7UVBj176Atc4+NrpNKCdIg0dBWVUpqVkbTkJM+c77b/SBws=
  - secure: FDiyW6XID+f2qOU8kFey9ckZXf5/jNYZirpAYJBGgsFxyMdb9BEoqcF+nOj40tOzO6aqGmd8Zd8yEDsE2dtiqtZArj3XYRp4etNNmjS+cDfl7PVjPuTgcdsxrmfjDpRFrYnPy5Re1ZTCnvvdBzPcIXpbM6hVA/0A3BLwhvzavHSK4S+S/RuOHpu4L6kvIEnJ+TEDIy4taleGU2GFv8Zv/d4uydgbKQaXiqyyLJ2vWCW7RwPmx4se/2k3cMiN+USs257Zj7GOEo9M8vuhy5iH5FQfJPxp831iRlhOISNY/EqXQ+10EmJB/gGkHWUwUNVOljcGRZdGk6CS/Lg8eUDYxteCVvhnoH+E10mwGMqBwk+OthJcDyjZiTrK2SmX+ESeTAFDH4qBuBBUNymbx0Q27wJJKtvA3p8R5s6aIFW3Jpp5+I34iCp5drzrk0/HE4QscIYAGH13lnluPJl+Xb7A7uO4VU8HbDZrwjxzxphYqiiRxsi9kX75bvf3OYRVID3YWQHu/urT6+MqG8E/In5GpZlm214jXCJCDe8OGHq2cLS5IdG14GFjfaM+DkpX3QpLRIUDz35n9HLlVNukgXTvOjg03DQrx978bbwj8pvc/YAWRJaLGHOEWrj/tGStn6BUCLpaFv0/6c+IU0/TgBsmbJ+lP9ZfEJGH+Vm5Vfc/VMQ=
  - secure: HR4TIRrFok/RBmeDFVNlGUGoMH7OyJt8izwyDGo/Q+XXMimm370uu84TRmqNhEGpHUaN5zEDdG4+DzD2RYaW0Pyrl726ONpvQjwbs/CXN4lEOhoy+YqxEyWTiwzOHDHziUDnbVnA9qqFTGFlbIeeJoJ2D2PcRqNJOOO7zsO49J4g9KqQxNyhY4qDvSBwKUbH5kc1Md9fwAFc6VQOwHBnlJ/asDRgYLvNlXeQ4LVN2s5S9jEflJMBsUJMileEAOFJHfFIgiw9vDtr0Bp6xioyF6UjOCVFTeBT8YTHKbm3ILDrBkoZoGL/5lxBCLoHiosvxhDnT7kz85WRMKCn+46rxEk1m7xJb6mH5wjCuHdt/OuuLjEnj5dkpQwJK9C9Jq2MxSb8gf7Y/91lBAyWpMwAebHP9OO7AnGMXKnkhx/1Ykok7fEbHotPEsgXhKralX/mrt4DxcZzOS0s1l1p4zSng/ZZKe+67x78sACNkvkOI6id5Vo1ACu4I7H1+9E8cVljx3HqzZc57PekLI4dU26+igQL9HT+TZjoj56ib6kcz7LDifeNDiCkUz/aQ0njKlcR2juvVJ0RiEEZoSU7wB4veov/GrX3dxzekXCchBoKY5Y6IHelQWB2Tb2NGGMn7wSZEScg1J359Z5pZS/hlm+2gBtZRSnuZvpuPmuMoq8dPHg=
  - secure: jLKdajVD1s/ocrK+5KzwPG6UFKFPoww+Aqta7mgg1yaxSZNjMWauTzFxmvkcxhDYBf1uNSKIKOJ3Ot7VnYa38NoljKCNzoBWTrU1i4EJ5C1w9/hzZY8Q1NbmtZwt1PrU7yZgB/QO6vR+qPipPfAZXRQgJiD+83qvsS88LJuFxJRfWtct74OlA2Rgse9DRb1UWqb+eZOF4DUsfAVYLZVBlBlA3170xzKpho96jAUmoaKYGjuceYaUrfpsay5ZRaCO6nidnaAg7XeLBTXiBFJYWM9v8POvXJmZCOruBXfKPd1hZ6YcnBFMiAsx4rLNKQnJTCev8Puf2bzPM+8+SMlmnmjhTMae5Iino5jwrvf9KBUoDN0NO+gRDHDsv9j2JVVdbcAQB2VdLoFak+ko1yZ2vQwyI7T9HoTgkzyz+j3O+zRBY9exWdxkyESPhj/ho6lyZOUsB1fzMaNwU1gDQsXc0bRP45nCGYfS4CKElsVBz7peOU/7Hb5OPk/dhXGdgISzyt1R2jNQNsUzoYrefFErH1XU06Uy/+FldVysgfZLo+Ht7dWZ1FlRIiLzarsyfiwNSKvpiDd3yKd2xCJ6P0UrfreFBwffZytfzhUaTr2pIMKoAefMhwsd+SvzrbYAF+5mnDg8t5zasojYVA4B/0RxP/La7lW55xALq6Je2F+aH/Q=
before_script:
- git config --global user.name rmpestano
- git config --global user.email rmpestano@gmail.com
script:
- mvn clean install jacoco:report coveralls:report -Pcoverage surefire-report:report-only
- cd rider-core && mvn -q cukedoctor:execute scm-publish:publish-scm -Pdocs 
- if [[ $TRAVIS_COMMIT_MESSAGE == *"prepare release"* ]]; then mvn -q cukedoctor:execute scm-publish:publish-scm -Pdocs -Prelease ; fi ;
after_script:
- cd .. && python html2text.py target/site/surefire-report.html
- mvn deploy --settings settings.xml -DskipTests=true
